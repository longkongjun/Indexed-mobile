# 资源类型扩展

本文档按**资源类型**梳理各类型的**支持格式、刮削方式、元数据格式、分类整理要点**。详细目录结构见 [资源支持说明](./08_resource_support.md)。

---

## 1. 漫画（Comic）

### 支持格式

图片文件夹（jpg/png/webp）、CBZ、CBR、PDF、EPUB。

### 刮削方式

- 本地：metadata.json、ComicInfo.xml；文件名/目录名解析
- 远程：MyAnimeList、AniList、Kitsu、ComicVine

### 元数据格式

| 格式 | 位置/命名 | 说明 |
|------|------------|------|
| metadata.json | 作品目录下 `metadata.json` | 自定义 JSON，标题、作者、卷/话等 |
| ComicInfo.xml | CBZ/CBR 包内或目录下 | 标准漫画元数据 XML，兼容 ComicRack 等 |

### 分类整理要点

按作品 → 卷/话；目录或文件命名如「第 n 话」「Ch n」；规则引擎支持重命名、移动、打标签。

---

## 2. 影视（Video）

### 支持格式

MP4、MKV、AVI、MOV、WebM。

### 刮削方式

- 本地：NFO；文件名/目录名解析（片名、年份、SxxExx）
- 远程：TMDB、豆瓣电影、IMDb

### 元数据格式

| 格式 | 位置/命名 | 说明 |
|------|------------|------|
| NFO | 与视频同目录、同名 `*.nfo`，或目录下 `movie.nfo` / `tvshow.nfo` | Kodi/Emby/Jellyfin 兼容；XML，含片名、年份、SxxExx、TMDB/IMDb ID 等 |
| 字幕 SRT/ASS/VTT | 与视频同目录、同名或 `*.zh.srt` 等 | 按语言后缀区分，整理时与正片同命名 |

### 分类整理要点

电影单文件或单目录；剧集按季（Season nn）、集（SxxExx）；NFO 与字幕同目录或同命名。

---

## 3. 音乐（Music）

### 支持格式

MP3、FLAC、AAC、OGG、WAV。

### 刮削方式

- 本地：ID3 / Vorbis Comment 等内嵌标签；文件名/目录名解析（艺术家/专辑/曲序）
- 远程：MusicBrainz、Last.fm、Discogs

### 元数据格式

| 格式 | 位置/命名 | 说明 |
|------|------------|------|
| ID3 (MP3) / Vorbis Comment (FLAC) 等 | 内嵌于音频文件 | 艺术家、专辑、曲序、年份、封面；整理时统一写入/补齐 |
| cover.jpg / albumart.* | 专辑目录下 | 封面图，优先读取后写入内嵌或保留文件 |

### 分类整理要点

艺术家 → 专辑 → 曲目；曲目命名如「nn - 曲名」；封面与专辑元数据统一。

---

## 4. 小说（Novel）

### 支持格式

TXT、EPUB、MOBI、PDF、FB2。

### 刮削方式

- 本地：EPUB/MOBI 内嵌元数据；文件名/目录名解析（书名、作者、章节）
- 远程：Goodreads、豆瓣读书

### 元数据格式

| 格式 | 位置/命名 | 说明 |
|------|------------|------|
| EPUB/MOBI 内嵌 | 电子书文件内 | 书名、作者、ISBN、目录等；整理时以文件内为准或从远程刮削后写入 |

### 分类整理要点

按书名或作者 → 卷/章；单本为单文件或单目录；分章 TXT 命名如「第 n 章」或「Ch n」。

---

## 5. 自定义类型

- 通过插件扩展新资源类型；格式、刮削方式、元数据格式、分类整理规则均由插件与规则引擎定义。
- 与上述四类共用同一套配置与规则入口；元数据格式可由插件定义（如自定义 JSON/XML 置于资源目录或包内）。

---

**最后更新**：2026-01-30 · 版本 1.0.0
