# Indexed 项目发展规划

本目录包含 Indexed 项目的完整发展规划文档，涵盖项目概览、架构设计、实施路线图等核心内容。

---

## 文档索引

### 📋 [产品立项说明](./00_project_overview.md)
**产品定位、范围与目标（立项文档，不含技术选型与实施计划）**

内容涵盖：
- 项目定位与愿景
- 核心价值主张
- 产品范围（资源类型、平台、功能矩阵）
- 关键设计原则与产品方向
- 文档导航

**适合**：项目决策者、产品经理、新成员快速了解产品

---

### 🏗️ 架构设计（三份文档）
**服务端、后台、客户端** 独立架构文档，每份含系统模块结构图与技术选型。

- [服务端架构设计](./01_server_architecture.md) — 资源识别/整理/存储、API、技术选型
- [后台架构设计](./02_admin_architecture.md) — Web 后台、配置管理、技术选型
- [客户端架构设计](./03_client_architecture.md) — 多端客户端、使用与上传、技术选型

**适合**：架构师、技术负责人、开发人员

---

### 📚 [资源类型扩展规划](./04_resource_types_expansion.md)
**各类资源类型的支持方案**

内容涵盖：
- 资源类型概览
- 漫画资源（当前状态、支持格式、实现计划）
- 影视资源（支持格式、功能特性、技术挑战）
- 音乐资源（支持格式、功能特性、技术挑战）
- 小说资源（支持格式、功能特性、技术挑战）
- 统一资源抽象
- 插件开发指南

**适合**：产品经理、开发人员

---

### 🖥️ [服务端设计方案](./05_server_design.md)
**服务端架构和实现方案**

内容涵盖：
- 服务端架构概览
- 服务职责划分（7个核心服务）
- 数据流设计
- API 设计原则
- Web 后台管理界面
- 部署方案（Docker、K8s）
- 安全设计
- 性能优化
- 监控和日志

**适合**：服务端开发人员、DevOps

---

### 🔌 [插件系统设计方案](./06_plugin_system_design.md)
**插件化架构和规则引擎**

内容涵盖：
- 插件系统架构
- 插件类型（资源插件、规则插件、元数据插件）
- 插件接口设计
- 规则引擎设计
- 插件生命周期
- 插件配置管理
- 插件开发流程
- 插件市场
- 任务编排
- 安全性设计

**适合**：架构师、插件开发人员

---

### 🗺️ [实施路线图](./07_implementation_roadmap.md)
**详细的开发计划和里程碑**

内容涵盖：
- 总体时间线（Gantt 图）
- Phase 1: 漫画资源完善（3个月）
- Phase 2: 插件化架构设计（3个月）
- Phase 3: 服务端开发（3个月）
- Phase 4: 影视资源支持（3个月）
- Phase 5: 音乐资源支持（3个月）
- Phase 6: 小说资源支持（3个月）
- Phase 7: 鸿蒙平台适配（3个月）
- 资源分配建议
- 风险管控
- 质量保证
- 成功标准

**适合**：项目经理、开发团队

---

### 📦 [资源支持说明](./08_resource_support.md)
**各资源类型的格式、源文件、刮削方式、分类整理方式**

内容涵盖：
- 漫画、影视、音乐、小说的支持格式与扩展名
- 源文件与目录结构示例
- 刮削方式（本地元数据、远程 API、文件名解析）
- 分类整理方式（命名规则、目录结构、规则引擎）
- 自定义类型扩展说明

**适合**：实现资源识别/刮削/整理时查阅、后台配置规则与元数据源

---

## 快速导航

### 我想了解...

- **项目整体方向** → [产品立项说明](./00_project_overview.md)
- **技术架构设计** → [服务端](./01_server_architecture.md) / [后台](./02_admin_architecture.md) / [客户端](./03_client_architecture.md)
- **资源类型支持** → [资源类型扩展规划](./04_resource_types_expansion.md)、[资源支持说明](./08_resource_support.md)
- **服务端实现** → [服务端设计方案](./05_server_design.md)
- **插件系统** → [插件系统设计方案](./06_plugin_system_design.md)
- **开发计划** → [实施路线图](./07_implementation_roadmap.md)

### 我想开始...

- **开发客户端** → 参考 [客户端架构设计](./03_client_architecture.md)
- **开发服务端** → 参考 [服务端架构设计](./01_server_architecture.md)、[服务端设计方案](./05_server_design.md)
- **开发后台** → 参考 [后台架构设计](./02_admin_architecture.md)
- **开发插件** → 参考 [插件系统设计方案](./06_plugin_system_design.md) 的插件开发流程
- **规划资源类型** → 参考 [资源类型扩展规划](./04_resource_types_expansion.md)、[资源支持说明](./08_resource_support.md)

---

## 核心设计理念

### 1. 插件化架构
- 所有资源类型通过插件实现
- 支持动态加载和卸载
- 统一的插件接口和规范

### 2. 规则引擎
- 可配置的资源整理规则
- 支持规则链执行
- 灵活的规则组合

### 3. 跨平台一致性
- 核心业务逻辑共享（KMP）
- 统一的 API 设计
- 一致的用户体验

### 4. 私有化部署
- 支持完全私有化部署
- 数据不上传云端
- 用户完全控制

### 5. 可扩展性
- 水平扩展支持
- 垂直扩展支持
- 插件市场生态

---

## 技术栈总览

### 客户端
- **核心框架**：Kotlin Multiplatform (KMP)
- **UI 框架**：Compose Multiplatform
- **架构模式**：Clean Architecture + MVI
- **数据库**：SQLDelight
- **依赖注入**：Koin

### 服务端
- **主要语言**：Kotlin + Rust
- **Web 框架**：Ktor（Kotlin）+ Actix-web（Rust）
- **数据库**：PostgreSQL + SQLite
- **消息队列**：RabbitMQ / Redis Streams
- **存储**：MinIO / S3 兼容存储

### 鸿蒙平台
- **开发语言**：ArkTS
- **UI 框架**：ArkUI
- **架构**：参考 KMP 架构

---

## 项目阶段概览

| 阶段 | 时间 | 主要目标 | 关键交付物 |
|------|------|---------|-----------|
| **Phase 1** | 0-3个月 | 漫画资源完善 | 本地扫描、索引、阅读器 |
| **Phase 2** | 3-6个月 | 插件化架构 | 插件系统、规则引擎 |
| **Phase 3** | 6-9个月 | 服务端开发 | 可部署服务端、Web 后台 |
| **Phase 4** | 9-12个月 | 影视资源支持 | 影视插件、播放器 |
| **Phase 5** | 12-15个月 | 音乐资源支持 | 音乐插件、播放器 |
| **Phase 6** | 15-18个月 | 小说资源支持 | 小说插件、阅读器 |
| **Phase 7** | 18-21个月 | 鸿蒙平台适配 | 鸿蒙原生应用 |

---

## 关键决策记录

### 技术选型决策

1. **客户端框架**：选择 KMP + Compose
   - 理由：跨平台代码共享，现代化 UI 框架
   - 备选：Flutter、React Native

2. **服务端语言**：选择 Kotlin + Rust
   - 理由：Kotlin 与客户端共享代码，Rust 高性能
   - 备选：纯 Kotlin、Go、Java

3. **数据库**：选择 PostgreSQL + SQLDelight
   - 理由：PostgreSQL 功能强大，SQLDelight 跨平台
   - 备选：MySQL、MongoDB

4. **插件架构**：选择策略模式 + 规则引擎
   - 理由：灵活性和可扩展性平衡
   - 备选：纯策略模式、纯规则引擎

### 架构决策

1. **微服务架构**：服务端采用微服务
   - 理由：可扩展性、独立部署
   - 风险：复杂度增加

2. **插件化设计**：所有资源类型插件化
   - 理由：易于扩展、支持第三方开发
   - 风险：插件管理复杂度

3. **鸿蒙原生开发**：鸿蒙使用 ArkTS 原生开发
   - 理由：更好的性能和体验
   - 风险：需要单独维护

---

## 更新日志

### 2026-01-27
- 创建初始规划文档
- 完成长期发展规划
- 完成架构设计文档
- 完成资源类型扩展规划
- 完成服务端设计方案
- 完成插件系统设计方案
- 完成实施路线图

---

## 贡献指南

### 更新规划文档

1. 修改对应的规划文档
2. 更新本 README 的更新日志
3. 提交 Pull Request
4. 经过评审后合并

### 提出建议

1. 创建 Issue 描述建议
2. 讨论方案的可行性
3. 更新相关规划文档
4. 记录决策过程

---

**最后更新**：2026-01-27  
**版本**：1.0.0  
**维护者**：Indexed Team
